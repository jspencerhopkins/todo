<section id="todoapp">
	<header id="header">
		<h1>todos</h1>

		<!--<input id="new-todo" placeholder="What needs to be done?" autofocus>-->
		
		<%= form_for @items do |f| %>
			<%= f.text_field :description, placeholder: "What needs to be done?", id:"new-todo", autofocus: true %>
			<%= f.submit "Add Task", id:"create-button" %>
		<% end %>

	</header>

	<!-- This section should be hidden by default and shown when there are todos -->
	<section id="main">

	  <!--
		<input id="toggle-all" type="checkbox">
			<label for="toggle-all">Mark all as complete</label>
		-->

		<ul id="todo-list">
						
			<% @all_items.each do |item| %>

				<li <%= 'class=completed' if item.complete? %>>
					<div class="view">	
						
						<%= form_for item do |f| %>
							<%= f.check_box :complete, {:class => "toggle"} %>
							<%= f.submit "Complete?" %>
						<% end %>
						
						<label><%= item.description %></label>

						<%= link_to 'Edit Task', edit_item_path(item), method: :get %>
						<%= link_to 'Delete Task', item,
               method: :delete,
               data: { confirm: 'Are you sure?' } %>
						<br><br>

					</div>	
				</li>

			<% end %>

		</ul>

	</section>

	<% if Item.count == 0 %>

	<% else %>

		<footer id="footer">

			<span id="todo-count">
				<strong><%= Item.where(complete: false || nil).count %></strong> 
				<% if Item.where(complete: false || nil).count == 1 %>
					item
				<% else %>
					items
				<% end %>
				left 
			</span>

			<ul id="filters">
				<li>
					<%= link_to "All", root_path %>
				</li>
				<li>
					<%= link_to "Active", active_path %>
				</li>
				<li>
					<%= link_to "Completed", completed_path %>
				</li>
			</ul>

			<button id="clear-completed"></button>
		</footer>

	<% end %>

</section>